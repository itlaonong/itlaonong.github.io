---
title: 博客迁移到VuePress并配置主题
date: 2022-05-31
tags:
  - VuePress
  - JavaScript
---

已经很久没有写东西了，或者说写了也没有更新到这里。之前这个博客小站是使用 hexo 构建，并且主题是 NexT 主题。

主题很简单，但是看久了还是想换一个，找了好久也没有合适的。干脆直接换到了 VuePress。并且配置了主题为 youdeliang。

<!-- more -->

## 这里简单记录下

主题作者的博客地址 [https://www.ydlcq.cn/](https://www.ydlcq.cn/)

主题 github 仓库地址 [https://github.com/youdeliang/vuepress-theme-melodydl](https://github.com/youdeliang/vuepress-theme-melodydl)

## 说明

因为搭建过程参考了作者的博客源码，很多图片配置一时间也没合适的替换。后续再慢慢处理。如果觉得侵权，请联系删除！

## 遇到的问题

### 代码块样式异常

表现如下

![WX20220531-123711@2x.png](https://dd-static.jd.com/ddimg/jfs/t1/18008/22/16237/42236/6295a04dE79bf8ab1/61353a509507d911.png)

看控制台是 tag 的 class 样式问题

![WX20220531-123807@2x.png](https://dd-static.jd.com/ddimg/jfs/t1/125225/2/28630/163016/6295a04dE4fb52edd/e4e1cc0a0a7f6d36.png)

把主题的样式修改掉，可以看到正常了。

![WX20220531-123839@2x.png](https://dd-static.jd.com/ddimg/jfs/t1/5027/6/18250/58215/6295a04dE73f794b0/81da2681df8dd28b.png)

但是发现文章列表的标签样式没了。

![WX20220531-132621@2x.png](https://dd-static.jd.com/ddimg/jfs/t1/184321/34/24537/64262/6295a7a3Ecc05545d/32494a253659fa2c.png)

看来是用的同一个 class，看了源码之后，把文章标签的样式 class 改成 post-tag，对应的样式表也调整一下。这样可以正常显示了。

Tag.vue

```vue
<template>
  <div>
    <div class="tags main-div">
      <div
        class="post-tag main-tag"
        v-for="tag in tagList"
        :key="tag"
        @click="selectPost"
      >
        {{ tag }}
      </div>
    </div>
    <TransitionSlide>
      <PostList :posts="posts" :key="$page.path" />
    </TransitionSlide>
  </div>
</template>
```

PostsListItem.vue

```vue
<template>
  <div class="post-list-item main-div">
    <RouterLink :to="post.path" class="post-link">
      <div class="post-content">
        <h3 class="post-title">
          <span class="post-time">
            <span>{{ post.createdAt | formatterDay }}</span>
            <span>{{ post.createdAt | formatterYear }}</span>
          </span>
          <span>{{ post.title }}</span>
        </h3>
        <p class="post-excerpt" v-html="post.excerpt" />
        <p class="post-tag post-category" v-for="tag of tags" :key="tag">
          {{ tag }}
        </p>
        <div class="post-button">阅读全文</div>
      </div>
    </RouterLink>
  </div>
</template>
```

layouts.styl

```yaml
.post-tag
  display inline-flex
  cursor pointer
  margin 10px
  color rgba(255, 255, 255, 0.8)
  font-size 14px
  padding 4px 10px
  border-radius 4px
  &:hover
    opacity 0.6

  &:nth-child(1n + 0)
    background #3f51b5

  &:nth-child(2n + 0)
    background #36c978

  &:nth-child(3n + 0)
    background $accentColor

  &:nth-child(4n + 0)
    background #bbbbee

  &:nth-child(5n + 0)
    background #dd5c53

  &:nth-child(6n + 0)
    background #00abc0

  &:nth-child(7n + 0)
    background #2196f3

  &:nth-child(8n + 0)
    background #9ab2e0

  &:nth-child(9n + 0)
    background #34dad4

```
